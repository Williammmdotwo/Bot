# é¡¹ç›®ç»“æ„é‡ç»„æŠ¥å‘Š

## æ¦‚è¿°

æœ¬æ¬¡é‡ç»„çš„ç›®æ ‡æ˜¯å°†æµ‹è¯•æ–‡ä»¶å’Œæ ¸å¿ƒè¿è¡Œç¨‹åºæ–‡ä»¶è¿›è¡Œæ¸…æ™°åˆ†ç¦»ï¼Œä¼˜åŒ–é¡¹ç›®ç»“æ„ï¼Œæé«˜ä»£ç ç»„ç»‡å’Œç»´æŠ¤æ•ˆç‡ã€‚

## é‡ç»„å‰åå¯¹æ¯”

### é‡ç»„å‰çš„é—®é¢˜
1. **æµ‹è¯•æ–‡ä»¶åˆ†æ•£**ï¼šæµ‹è¯•å·¥å…·æ•£å¸ƒåœ¨ `scripts/debug_tools/` å’Œæ ¹ç›®å½•ä¸­
2. **åˆ†ç±»ä¸æ¸…æ™°**ï¼šæ ¸å¿ƒè„šæœ¬ä¸è°ƒè¯•å·¥å…·æ··åˆåœ¨ä¸€èµ·
3. **ä¸´æ—¶æ–‡ä»¶æœªæ¸…ç†**ï¼šæ ¹ç›®å½•å­˜åœ¨ä¸´æ—¶æµ‹è¯•æ–‡ä»¶
4. **å‘½åä¸ä¸€è‡´**ï¼šæ–‡ä»¶å’Œç›®å½•å‘½åç¼ºä¹ç»Ÿä¸€æ ‡å‡†

### é‡ç»„åçš„æ”¹è¿›
1. **æ¸…æ™°çš„åˆ†ç±»ä½“ç³»**ï¼šæŒ‰åŠŸèƒ½å’Œç”¨é€”åˆ†ç¦»æ–‡ä»¶
2. **ç»Ÿä¸€çš„å¯åŠ¨å…¥å£**ï¼šæä¾›ç®€åŒ–çš„å¯åŠ¨è„šæœ¬
3. **è§„èŒƒçš„ç›®å½•ç»“æ„**ï¼šç¬¦åˆPythoné¡¹ç›®æœ€ä½³å®è·µ
4. **å®Œå–„çš„æ–‡æ¡£ä½“ç³»**ï¼šä¸ºæ¯ä¸ªç›®å½•æä¾›è¯¦ç»†è¯´æ˜

## ç›®å½•ç»“æ„å˜åŒ–

### Scripts ç›®å½•é‡ç»„

#### é‡ç»„å‰
```
scripts/
â”œâ”€â”€ local_dev_manager.py          # æ ¸å¿ƒè„šæœ¬
â”œâ”€â”€ start_trading.py             # æ ¸å¿ƒè„šæœ¬
â”œâ”€â”€ debug_tools/                 # è°ƒè¯•å·¥å…·ï¼ˆåº”è¯¥å±äºæµ‹è¯•ï¼‰
â”‚   â”œâ”€â”€ test_*.py
â”‚   â”œâ”€â”€ verify_*.py
â”‚   â””â”€â”€ debug_*.py
â”œâ”€â”€ maintenance/                 # ç»´æŠ¤è„šæœ¬
â”œâ”€â”€ deployment/                  # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ windows/                     # å¹³å°è„šæœ¬
â”œâ”€â”€ deprecated/                  # å¼ƒç”¨è„šæœ¬
â””â”€â”€ ...
```

#### é‡ç»„å
```
scripts/
â”œâ”€â”€ start.py                     # ğŸ†• ç»Ÿä¸€å¯åŠ¨è„šæœ¬ï¼ˆæ¨èä½¿ç”¨ï¼‰
â”œâ”€â”€ core/                       # ğŸ†• æ ¸å¿ƒè¿è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ local_dev_manager.py      # ğŸ“ ä» scripts/ ç§»åŠ¨è‡³æ­¤
â”‚   â””â”€â”€ start_trading.py        # ğŸ“ ä» scripts/ ç§»åŠ¨è‡³æ­¤
â”œâ”€â”€ maintenance/                # ç»´æŠ¤è„šæœ¬
â”œâ”€â”€ deployment/                 # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ windows/                    # å¹³å°è„šæœ¬
â”œâ”€â”€ deprecated/                 # å¼ƒç”¨è„šæœ¬
â””â”€â”€ README.md                   # ğŸ†• è„šæœ¬ä½¿ç”¨è¯´æ˜
```

### Tests ç›®å½•é‡ç»„

#### é‡ç»„å‰
```
tests/
â”œâ”€â”€ unit/                       # å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration/                # é›†æˆæµ‹è¯•
â”œâ”€â”€ system/                     # ç³»ç»Ÿæµ‹è¯•
â”œâ”€â”€ performance/                # æ€§èƒ½æµ‹è¯•
â””â”€â”€ ...

# è°ƒè¯•å·¥å…·åˆ†æ•£åœ¨å…¶ä»–ä½ç½®
scripts/debug_tools/             # è°ƒè¯•å·¥å…·ï¼ˆä½ç½®ä¸å½“ï¼‰
æ ¹ç›®å½•/test_*.py                # ä¸´æ—¶æµ‹è¯•æ–‡ä»¶ï¼ˆä½ç½®ä¸å½“ï¼‰
```

#### é‡ç»„å
```
tests/
â”œâ”€â”€ README.md                   # ğŸ†• æµ‹è¯•æŒ‡å—
â”œâ”€â”€ unit/                       # å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration/                # é›†æˆæµ‹è¯•
â”œâ”€â”€ system/                     # ç³»ç»Ÿæµ‹è¯•
â”œâ”€â”€ performance/                # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ debug/                      # ğŸ†• è°ƒè¯•å·¥å…·
â”‚   â”œâ”€â”€ debug_history.py        # ğŸ“ ä» scripts/debug_tools/ ç§»åŠ¨
â”‚   â”œâ”€â”€ test_*.py             # ğŸ“ ä» scripts/debug_tools/ ç§»åŠ¨
â”‚   â”œâ”€â”€ verify_*.py           # ğŸ“ ä» scripts/debug_tools/ ç§»åŠ¨
â”‚   â””â”€â”€ ...
â”œâ”€â”€ manual/                     # ğŸ†• æ‰‹åŠ¨æµ‹è¯•
â”‚   â””â”€â”€ test_heartbeat.py      # ğŸ†• å¿ƒè·³æµ‹è¯•ï¼ˆæœªæ¥æ‰©å±•ï¼‰
â”œâ”€â”€ reports/                    # æµ‹è¯•æŠ¥å‘Š
â””â”€â”€ utils/                      # æµ‹è¯•å·¥å…·
```

## æ–°å¢åŠŸèƒ½

### ç»Ÿä¸€å¯åŠ¨è„šæœ¬ (`scripts/start.py`)
æä¾›ç®€åŒ–çš„å¯åŠ¨å…¥å£ï¼Œæ”¯æŒä¸‰ç§æ¨¡å¼ï¼š

```bash
# å¼€å‘ç¯å¢ƒ
python scripts/start.py dev start    # å¯åŠ¨å¼€å‘ç¯å¢ƒ
python scripts/start.py dev stop     # åœæ­¢å¼€å‘ç¯å¢ƒ
python scripts/start.py dev status   # æŸ¥çœ‹çŠ¶æ€
python scripts/start.py dev cleanup  # æ¸…ç†ç³»ç»Ÿ

# äº¤æ˜“ç¯å¢ƒ
python scripts/start.py trading      # å¯åŠ¨äº¤æ˜“ç³»ç»Ÿ

# æµ‹è¯•ç¯å¢ƒ
python scripts/start.py test         # è¿è¡Œæ‰€æœ‰æµ‹è¯•
```

### å®Œå–„çš„æ–‡æ¡£ä½“ç³»
- `scripts/README.md` - è„šæœ¬ä½¿ç”¨æŒ‡å—
- `tests/README.md` - æµ‹è¯•æ¡†æ¶æŒ‡å—

## æ–‡ä»¶è¿ç§»æ¸…å•

### æ ¸å¿ƒè„šæœ¬è¿ç§»
âœ… `scripts/local_dev_manager.py` â†’ `scripts/core/local_dev_manager.py`
âœ… `scripts/start_trading.py` â†’ `scripts/core/start_trading.py`

### è°ƒè¯•å·¥å…·è¿ç§»
âœ… `scripts/debug_tools/debug_history.py` â†’ `tests/debug/debug_history.py`
âœ… `scripts/debug_tools/test_executor_injection.py` â†’ `tests/debug/test_executor_injection.py`
âœ… `scripts/debug_tools/test_manual_trade.py` â†’ `tests/debug/test_manual_trade.py`
âœ… `scripts/debug_tools/test_websocket_fix.py` â†’ `tests/debug/test_websocket_fix.py`
âœ… `scripts/debug_tools/verify_data_feed_mock.py` â†’ `tests/debug/verify_data_feed_mock.py`
âœ… `scripts/debug_tools/verify_data_feed.py` â†’ `tests/debug/verify_data_feed.py`
âœ… `scripts/debug_tools/verify_environment_config.py` â†’ `tests/debug/verify_environment_config.py`

### ç›®å½•æ¸…ç†
âœ… åˆ é™¤ç©ºçš„ `scripts/debug_tools/` ç›®å½•
âœ… åˆ›å»º `tests/debug/` å’Œ `tests/manual/` ç›®å½•
âœ… åˆ›å»º `scripts/core/` ç›®å½•

## ä½¿ç”¨æ–¹å¼å˜åŒ–

### ä¼ ç»Ÿæ–¹å¼ï¼ˆä»ç„¶æ”¯æŒï¼‰
```bash
# ç›´æ¥è°ƒç”¨æ ¸å¿ƒè„šæœ¬
python scripts/core/local_dev_manager.py start
python scripts/core/start_trading.py

# ç›´æ¥è¿è¡Œæµ‹è¯•
python tests/debug/test_websocket_fix.py
```

### æ¨èæ–¹å¼ï¼ˆæ–°å¢ï¼‰
```bash
# ä½¿ç”¨ç»Ÿä¸€å¯åŠ¨è„šæœ¬
python scripts/start.py dev start
python scripts/start.py trading
python scripts/start.py test
```

## å…¼å®¹æ€§ä¿è¯

1. **å‘åå…¼å®¹**ï¼šåŸæœ‰çš„ç›´æ¥è°ƒç”¨æ–¹å¼ä»ç„¶æœ‰æ•ˆ
2. **è·¯å¾„æ›´æ–°**ï¼šæ‰€æœ‰å†…éƒ¨å¼•ç”¨å·²æ›´æ–°ä¸ºæ–°è·¯å¾„
3. **åŠŸèƒ½å®Œæ•´**ï¼šæ‰€æœ‰åŸæœ‰åŠŸèƒ½ä¿æŒä¸å˜
4. **é…ç½®ä¸å˜**ï¼šé…ç½®æ–‡ä»¶å’Œç¯å¢ƒå˜é‡æ— éœ€ä¿®æ”¹

## éªŒè¯ç»“æœ

### å¯åŠ¨è„šæœ¬æµ‹è¯•
âœ… `python scripts/start.py dev status` - å¼€å‘ç¯å¢ƒçŠ¶æ€æ£€æŸ¥æ­£å¸¸
âœ… `python scripts/start.py dev cleanup` - ç³»ç»Ÿæ¸…ç†åŠŸèƒ½æ­£å¸¸

### è°ƒè¯•å·¥å…·æµ‹è¯•
âœ… `python tests/debug/test_websocket_fix.py` - WebSocketæµ‹è¯•è¿è¡Œæ­£å¸¸
âœ… æ‰€æœ‰è°ƒè¯•å·¥å…·ä»æ–°ä½ç½®æ­£å¸¸æ‰§è¡Œ

### åŠŸèƒ½éªŒè¯
âœ… å¿ƒè·³æœºåˆ¶é›†æˆæµ‹è¯•é€šè¿‡
âœ… é¡¹ç›®ç»“æ„æ¸…æ™°åˆ†ç¦»
âœ… æ–‡æ¡£ä½“ç³»å®Œå–„

## æœ€ä½³å®è·µå»ºè®®

### å¼€å‘æ—¶ä½¿ç”¨
1. **ä¼˜å…ˆä½¿ç”¨ç»Ÿä¸€å¯åŠ¨è„šæœ¬**ï¼š`python scripts/start.py`
2. **è°ƒè¯•æ—¶ä½¿ç”¨ä¸“é—¨å·¥å…·**ï¼š`tests/debug/` ä¸­çš„å·¥å…·
3. **æŸ¥çœ‹çŠ¶æ€ä½¿ç”¨å¼€å‘ç®¡ç†å™¨**ï¼š`python scripts/start.py dev status`

### æ–‡ä»¶ç»„ç»‡åŸåˆ™
1. **æ ¸å¿ƒè„šæœ¬**ï¼š`scripts/core/` - ä¸»è¦è¿è¡Œç¨‹åº
2. **æµ‹è¯•æ–‡ä»¶**ï¼š`tests/` - æ‰€æœ‰æµ‹è¯•ç›¸å…³æ–‡ä»¶
3. **è°ƒè¯•å·¥å…·**ï¼š`tests/debug/` - å¼€å‘é˜¶æ®µå·¥å…·
4. **ç»´æŠ¤è„šæœ¬**ï¼š`scripts/maintenance/` - ç³»ç»Ÿç»´æŠ¤
5. **éƒ¨ç½²è„šæœ¬**ï¼š`scripts/deployment/` - éƒ¨ç½²ç›¸å…³

## æœªæ¥æ‰©å±•æ–¹å‘

### çŸ­æœŸç›®æ ‡
1. **æ·»åŠ æ›´å¤šæ‰‹åŠ¨æµ‹è¯•**ï¼šæ‰©å±• `tests/manual/` ç›®å½•
2. **ä¼˜åŒ–å¯åŠ¨è„šæœ¬**ï¼šæ·»åŠ æ›´å¤šä¾¿æ·åŠŸèƒ½
3. **å®Œå–„è°ƒè¯•å·¥å…·**ï¼šå¢å¼º `tests/debug/` ä¸­çš„å·¥å…·

### é•¿æœŸç›®æ ‡
1. **è‡ªåŠ¨åŒ–æµ‹è¯•é›†æˆ**ï¼šCI/CDæµç¨‹ä¼˜åŒ–
2. **æ€§èƒ½ç›‘æ§é›†æˆ**ï¼šå®æ—¶æ€§èƒ½ç›‘æ§
3. **éƒ¨ç½²è‡ªåŠ¨åŒ–**ï¼šä¸€é”®éƒ¨ç½²è„šæœ¬

## æ€»ç»“

æœ¬æ¬¡é¡¹ç›®é‡ç»„æˆåŠŸå®ç°äº†ä»¥ä¸‹ç›®æ ‡ï¼š

1. âœ… **æ¸…æ™°çš„æ–‡ä»¶åˆ†ç±»**ï¼šæµ‹è¯•æ–‡ä»¶ä¸æ ¸å¿ƒç¨‹åºå®Œå…¨åˆ†ç¦»
2. âœ… **ç®€åŒ–çš„ä½¿ç”¨æ–¹å¼**ï¼šç»Ÿä¸€å¯åŠ¨è„šæœ¬æä¾›ä¾¿æ·å…¥å£
3. âœ… **å®Œå–„çš„æ–‡æ¡£ä½“ç³»**ï¼šè¯¦ç»†çš„ä½¿ç”¨æŒ‡å—å’Œè¯´æ˜
4. âœ… **å‘åå…¼å®¹æ€§**ï¼šä¸å½±å“ç°æœ‰ä½¿ç”¨æ–¹å¼
5. âœ… **å¯æ‰©å±•æ€§**ï¼šä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•åšå¥½å‡†å¤‡

é¡¹ç›®ç°åœ¨å…·æœ‰æ›´æ¸…æ™°çš„ç»“æ„ï¼Œæ›´ä¾¿äºç»´æŠ¤å’Œæ‰©å±•ï¼ŒåŒæ—¶ä¿æŒäº†è‰¯å¥½çš„å‘åå…¼å®¹æ€§ã€‚
