[run]
# 覆盖率运行配置
source = src
omit =
    # 排除测试文件
    */tests/*
    */test_*
    *_test.py

    # 排除第三方库
    */site-packages/*
    */dist-packages/*

    # 排除__pycache__
    */__pycache__/*

    # 排除迁移文件
    */migrations/*

    # 排除配置文件
    */config/*

    # 排除脚本文件
    scripts/*

    # 排除文档文件
    docs/*

    # 排除前端文件
    frontend/*

    # 排除日志文件
    logs/*

    # 排除特定文件
    setup.py
    conftest.py

# 分支覆盖率
branch = True

# 并行模式
parallel = True

[report]
# 报告配置
exclude_lines =
    # 排除调试代码
    pragma: no cover

    # 排除异常处理
    except:
    except ImportError:
    except Exception:

    # 排除抽象方法
    raise NotImplementedError
    @abstract*

    # 排除类型检查
    if TYPE_CHECKING:

    # 排除断言
    assert

    # 排除pass语句
    pass

    # 排除文档字符串
    """*"""
    '''*'''

# 显示覆盖率百分比
precision = 2

# 跳过空文件
skip_empty = True

# 按字母顺序排序
sort = Cover

[html]
# HTML报告配置
directory = tests/reports/html/coverage

# 显示源代码
show_contexts = True

# 额外CSS
extra_css =

# 标题
title = Athena Trader 测试覆盖率报告

[xml]
# XML报告配置
output = tests/reports/coverage.xml

[paths]
# 路径映射
source =
    src/
    .tox/*/lib/python*/site-packages/src/
    .tox/*/lib/python*/site-packages/
