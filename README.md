# Athena Trader (v2.0.0) - Hybrid Crypto Trading System

![Python](https://img.shields.io/badge/Python-3.9%2B-blue)![License](https://img.shields.io/badge/License-MIT-green)![Status](https://img.shields.io/badge/Status-Stable%20%2F%20HFT%20Active-brightgreen)

**Athena Trader** æ˜¯ä¸€ä¸ªå·¥ç¨‹åŒ–çš„åŠ å¯†è´§å¸é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œä¸“ä¸ºè§£å†³å®ç›˜ä¸æ¨¡æ‹Ÿç›˜ç¯å¢ƒå·®å¼‚ã€çŠ¶æ€åŒæ­¥åŠå»¶è¿Ÿé—®é¢˜è€Œè®¾è®¡ã€‚

**v2.0.0 "Speed Demon"** ç‰ˆæœ¬å¼•å…¥äº†å…¨æ–°çš„**åŒæ¨¡æ¶æ„ (Monorepo)**ï¼šä¿ç•™äº†ç¨³å¥çš„ç»å…¸è¶‹åŠ¿ç­–ç•¥ï¼Œå¹¶æ–°å¢äº†åŸºäº `asyncio` çš„æ¯«ç§’çº§é«˜é¢‘äº¤æ˜“ (HFT) å¼•æ“ã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ (Hybrid Architecture)

æœ¬é¡¹ç›®é‡‡ç”¨åŒè½¨å¹¶è¡Œæ¶æ„ï¼Œå…±äº«åŸºç¡€è®¾æ–½ï¼Œä½†è¿è¡Œé€»è¾‘å®Œå…¨éš”ç¦»ï¼š

### 1. Athena Classic (ç¨³å¥æ¨¡å¼)
*   **é€‚ç”¨åœºæ™¯**ï¼šè¶‹åŠ¿è·Ÿè¸ªã€æ³¢æ®µäº¤æ˜“ (Swing Trading)ã€‚
*   **æ ¸å¿ƒæŠ€æœ¯**ï¼š`Requests` (åŒæ­¥è½®è¯¢), `Pandas` (å‘é‡åŒ–è®¡ç®—), `PostgreSQL/Redis` (æŒä¹…åŒ–)ã€‚
*   **ç‰¹ç‚¹**ï¼š
    *   **Shadow Ledger (å½±å­è´¦æœ¬)**ï¼šé€šè¿‡ `Target - Actual` å·®å€¼è‡ªåŠ¨ä¿®æ­£ä»“ä½ï¼Œè§£å†³æ¨¡æ‹Ÿç›˜çŠ¶æ€ä¸åŒæ­¥é—®é¢˜ã€‚
    *   **Requests Bypass**ï¼šç›´è¿ OKX ç­¾åæ¥å£ï¼Œç»•è¿‡ CCXT è·¯ç”±ï¼Œé™ä½ 30% å»¶è¿Ÿã€‚
    *   **ç­–ç•¥**ï¼šTrend Pullback (EMA + RSI å›è°ƒç­–ç•¥)ã€‚

### 2. Athena Speed (æ¿€è¿›æ¨¡å¼ - HFT) ğŸš€ *New*
*   **é€‚ç”¨åœºæ™¯**ï¼šé«˜é¢‘å‰¥å¤´çš® (Scalping)ã€æ¥é’ˆ (Catching Knives)ã€åŠ¨é‡çªç ´ã€‚
*   **æ ¸å¿ƒæŠ€æœ¯**ï¼š`Asyncio` (å¼‚æ­¥éé˜»å¡), `Aiohttp` (é•¿è¿æ¥), `WebSocket` (Tickæµ), `Deque` (çº¯å†…å­˜æ»‘åŠ¨çª—å£)ã€‚
*   **ç‰¹ç‚¹**ï¼š
    *   **æé€Ÿå“åº”**ï¼šåŸºäº Public Trade æµï¼Œç«¯åˆ°ç«¯å»¶è¿Ÿ < 50ms (å–å†³äºæœåŠ¡å™¨ä½ç½®)ã€‚
    *   **æµå¼è®¡ç®—**ï¼šæ‘’å¼ƒ K çº¿æ¦‚å¿µï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£å®æ—¶è®¡ç®—â€œå‡€ä¹°å…¥å‹åŠ›â€å’Œâ€œèµ„é‡‘æµå‘â€ã€‚
    *   **æ™ºèƒ½é£æ§**ï¼šå†…ç½®ç¡¬ç†”æ–­æœºåˆ¶ (Circuit Breaker)ï¼Œå•æ—¥äºæŸ > 3% å¼ºåˆ¶ç‰©ç†åœæœºã€‚

---

## âš”ï¸ ç­–ç•¥è¯´æ˜

### HFT æ··åˆå¼•æ“ (Hybrid Engine)
HFT æ¨¡å—åŒæ—¶è¿è¡Œä¸¤å¥—é€»è¾‘ï¼Œäº’ä¸å¹²æ‰°ï¼š

#### ğŸ¦… æ¨¡å¼ A: ç§ƒé¹« (The Vulture)
*   **é€»è¾‘**ï¼šå¯»æ‰¾å¸‚åœºéç†æ€§çš„â€œé—ªå´©â€ç¬é—´ã€‚
*   **è§¦å‘**ï¼šä»·æ ¼ç¬é—´è·Œç ´ `Slow EMA * 0.99` (å¯é…ç½®)ã€‚
*   **æ‰§è¡Œ**ï¼šå‘é€ **IOC (Immediate-Or-Cancel)** é™ä»·ä¹°å•ã€‚
*   **ä¼˜åŠ¿**ï¼šåªæ¥é£åˆ€çš„æœ€ä½ç‚¹ï¼Œèµ„é‡‘å ç”¨æ—¶é—´æçŸ­ã€‚

#### ğŸ¯ æ¨¡å¼ B: ç‹™å‡»æ‰‹ (The Sniper)
*   **é€»è¾‘**ï¼šç›‘æ§å¤§æˆ·èµ„é‡‘æµå‘ï¼Œè¿½é€åŠ¨é‡çªç ´ã€‚
*   **è§¦å‘**ï¼š
    1.  **é‡èƒ½çˆ†å‘**ï¼š3ç§’å†…å‡€ä¹°å…¥é‡ > é˜ˆå€¼ (å¦‚ 10,000 USDT) ä¸” æˆäº¤ç¬”æ•° > 20ã€‚
    2.  **è¶‹åŠ¿ç¡®è®¤**ï¼šä»·æ ¼ > é˜»åŠ›ä½ã€‚
*   **æ‰§è¡Œ**ï¼šå‘é€ **Market (å¸‚ä»·)** ä¹°å•ï¼Œæé€ŸæŠ¢å…¥ã€‚

---

## ğŸ› ï¸ å®‰è£…ä¸è¿è¡Œ

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å®‰è£…ä¾èµ– (æ–°å¢ aiohttp ç­‰å¼‚æ­¥åº“)
pip install -r requirements.txt
```

### 2. é…ç½®æ–‡ä»¶
åœ¨ `config/base.json` ä¸­é…ç½® API Key å’Œç­–ç•¥å‚æ•°ï¼š
```json
{
  "api": { ... },
  "high_freq_strategies": {
    "enabled": true,
    "symbol": "SOL-USDT-SWAP",
    "whale_threshold": 10000.0,  // å¤§å•é˜ˆå€¼
    "sniper_mode": {
      "min_net_volume": 10000,   // ç‹™å‡»è§¦å‘ï¼š3ç§’å‡€ä¹°å…¥é‡
      "min_trade_count": 20      // ç‹™å‡»è§¦å‘ï¼š3ç§’æˆäº¤ç¬”æ•°
    }
  }
}
```

### 3. å¯åŠ¨æ¨¡å¼

**å¯åŠ¨ç»å…¸ç‰ˆ (Trend Pullback):**
```bash
python main_classic.py
```

**å¯åŠ¨æé€Ÿç‰ˆ (HFT Speed Demon):**
```bash
python main_hft.py
```
*(æ³¨ï¼šä¸¤è€…å¯åŒæ—¶è¿è¡Œï¼Œå»ºè®®åœ¨ `screen` æˆ– `tmux` ä¸­åˆ†çª—å£è¿è¡Œ)*

---

## ğŸ“ æ›´æ–°æ—¥å¿— (Changelog)

### v2.0.0 - Speed Demon Release (2026-01-06)

#### âœ¨ æ–°å¢åŠŸèƒ½
*   **HFT æ ¸å¿ƒ**ï¼šé‡å†™åº•å±‚ç½‘ç»œå±‚ï¼Œç§»é™¤ CCXTï¼Œä½¿ç”¨ `aiohttp` å®ç° V5 API æ‰‹åŠ¨ç­¾åä¸é•¿è¿æ¥å¤ç”¨ã€‚
*   **TickStream**ï¼šå®ç° WebSocket `public/trades` é¢‘é“è®¢é˜…ï¼Œæ”¯æŒæ–­çº¿é‡è¿ã€‚
*   **HUD çœ‹æ¿**ï¼šæ–°å¢ Heads-Up Displayï¼Œæ¯ 10 ç§’åœ¨æ—¥å¿—ä¸­è®°å½• EMAã€èµ„é‡‘æµå‹åŠ›ã€é£æ§çŠ¶æ€ç­‰ç³»ç»Ÿå¿«ç…§ã€‚
*   **æµå¼é£æ§**ï¼šæ–°å¢ `CircuitBreaker` å•ä¾‹ï¼Œæä¾› 60ç§’ å†·å´é”å’Œæ—¥äºæŸç†”æ–­ä¿æŠ¤ã€‚

#### ğŸ› å…³é”®ä¿®å¤ (Hotfixes)
*   **[Critical] å›è°ƒé“¾è·¯ä¿®å¤**ï¼šä¿®å¤äº† `TickStream` æ¥æ”¶åˆ°æ•°æ®ä½†æœªé€šè¿‡ Callback ä¼ é€’ç»™ `Engine` çš„é—®é¢˜ï¼Œè§£å†³äº† EMA æ— æ³•è®¡ç®—çš„ Bugã€‚
*   **[Critical] å†…å­˜æ³„æ¼ä¿®å¤**ï¼šä¿®å¤äº† `MarketState` ä¸­æ»‘åŠ¨çª—å£åªè¿›ä¸å‡ºçš„é—®é¢˜ã€‚ç°åœ¨ä¼šæ­£ç¡®æ¸…ç† `timestamp < current - 3s` çš„è¿‡æœŸæ•°æ®ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºåŠé‡èƒ½è®¡ç®—é”™è¯¯ã€‚
*   **[Fix] å¤§å•è¿‡æ»¤é€»è¾‘**ï¼šä¿®æ­£äº†åˆçº¦å¼ æ•° (`sz`) ä¸ USDT é¢å€¼çš„æ¢ç®—é€»è¾‘ï¼Œè§£å†³äº†å°é¢è®¢å•è¢«è¯¯åˆ¤ä¸ºå¤§å•å¯¼è‡´çš„æ—¥å¿—åˆ·å±é—®é¢˜ã€‚
*   **[Fix] æ—¥å¿—åˆ†æµ**ï¼šHUD ä¿¡æ¯ä¸å†è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œæ”¹ä¸ºä»…å†™å…¥æ–‡ä»¶ï¼Œç¡®ä¿æ§åˆ¶å°åªæ˜¾ç¤ºå…³é”®çš„å¤§å•å’Œäº¤æ˜“ä¿¡å·ã€‚

---

## âš ï¸ é£é™©æç¤º

*   **HFT æ¨¡å—** æ¶‰åŠæé«˜é¢‘çš„æ•°æ®å¤„ç†ï¼Œå»ºè®®éƒ¨ç½²åœ¨å»¶è¿Ÿ < 50ms çš„æœåŠ¡å™¨ä¸Šï¼ˆæ¨è AWS ä¸œäº¬/æ–°åŠ å¡ æˆ– Vultrï¼‰ã€‚
*   **å®ç›˜/æ¨¡æ‹Ÿç›˜**ï¼šHFT æ¨¡å—é»˜è®¤ä½¿ç”¨ **å®ç›˜ WebSocket è¡Œæƒ…** (Public) + **æ¨¡æ‹Ÿç›˜ä¸‹å• API** (Private)ã€‚è¿™å¯èƒ½å¯¼è‡´å¾®å°çš„æ»‘ç‚¹ï¼Œå±äºé¢„æœŸå†…çš„æµ‹è¯•è¡Œä¸ºã€‚
